package com.sportsinfo.community; import com.sportsinfo.common.ApiResponse; import org.springframework.http.ResponseEntity; import org.springframework.web.bind.annotation.*; import java.util.List; @RestController @RequestMapping("/api/community") public class CommunityController { private final CommunityRepository repo; public CommunityController(CommunityRepository repo){ this.repo=repo; } @PostMapping("/discussions") public ResponseEntity<ApiResponse<Discussion>> create(@RequestBody Discussion d){ return ResponseEntity.ok(ApiResponse.ok(repo.save(d))); } @GetMapping("/discussions") public ResponseEntity<ApiResponse<List<Discussion>>> list(){ return ResponseEntity.ok(ApiResponse.ok(repo.findAll())); } }
